<?xml version="1.0" encoding="UTF-8"?>

<atlassian-plugin key="${project.groupId}.${project.artifactId}" name="${project.name}" plugins-version="2">
    <plugin-info>
        <description>${project.description}</description>
        <version>${project.version}</version>
        <vendor name="${project.organization.name}" url="${project.organization.url}"/>
    </plugin-info>

    <!-- import from the product container -->
    <component-import key="applicationProperties" interface="com.atlassian.sal.api.ApplicationProperties"/>

    <servlet name="Profile Servlet" i18n-name-key="profile-servlet.name" key="profile-servlet"
             class="com.atlassian.stash.plugin.servlet.ProfileServlet">
        <description key="profile-servlet.description">The Profile Servlet Plugin</description>
        <url-pattern>/profileExample/profile/*</url-pattern>
    </servlet>

    <servlet name="Account Servlet" i18n-name-key="account-servlet.name" key="account-servlet"
             class="com.atlassian.stash.plugin.servlet.AccountServlet">
        <description key="profile-servlet.description">The Account Servlet Plugin</description>
        <url-pattern>/profileExample/account/*</url-pattern>
    </servlet>

    <component-import key="soyTemplateRenderer" interface="com.atlassian.soy.renderer.SoyTemplateRenderer" filter=""/>
    <component-import key="userManager" interface="com.atlassian.sal.api.user.UserManager" filter=""/>

    <stash-resource key="profile-soy" name="Profile Tab Soy Templates">
        <directory location="/templates/" />
    </stash-resource>

    <web-item key="profile-plugin-tab" name="Profile navigation tab" section="stash.user.profile.secondary.tabs" weight="20">
        <label key="profile.plugin.tab">My Plugin</label>
        <link>/plugins/servlet/profileExample/profile/${profileUser.name}</link>
        <tooltip key="profile.plugin.tab.description">Hooray, we have a tab!</tooltip>
    </web-item>

    <web-item key="account-plugin-tab" name="Account navigation tab" section="stash.user.account.nav" weight="50">
        <label key="account.plugin.tab">My Plugin</label>
        <link>/plugins/servlet/profileExample/account/${accountUser.name}</link>
        <tooltip key="account.plugin.tab.description">Hooray, we have a tab!</tooltip>
    </web-item>

</atlassian-plugin>
